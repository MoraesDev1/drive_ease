import 'package:sqflite/sqflite.dart';
import 'package:path/path.dart';

class LocalDatabase {
  static final Map<int, List<String>> _migrationScripts = {
    1: [
      '''
      CREATE TABLE corrida (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        datahora_start TEXT(50),
        start_km REAL,
        datahora_stop TEXT(50),
        stop_km REAL,
        ganhos REAL
      );
    ''',
      '''
      CREATE TABLE servico (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        tipo TEXT,
        data TEXT,
        km REAL,
        descricao TEXT,
        valor REAL
      );
    ''',
      '''CREATE TABLE start (
        datahora_start TEXT(50),
        start_km REAL
      );
    ''',
      '''CREATE TABLE meta (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        inicio TEXT(50),
        fim TEXT(50),
        valor REAL,
        descricao TEXT
);
''',
      '''INSERT INTO corrida (datahora_start, start_km, datahora_stop, stop_km, ganhos) VALUES
    ('2024-01-01 08:15:00', 100.5, '2024-01-01 09:30:00', 150.2, 75.0),
    ('2024-01-02 08:15:00', 250.7, '2024-01-02 09:30:00', 300.4, 85.0),
    ('2024-01-03 08:15:00', 400.9, '2024-01-03 09:30:00', 450.6, 90.0),
    ('2024-01-04 08:15:00', 551.1, '2024-01-04 09:30:00', 600.8, 80.0),
    ('2024-01-05 08:15:00', 701.3, '2024-01-05 09:30:00', 751.0, 95.0),
    ('2024-01-06 08:15:00', 851.5, '2024-01-06 09:30:00', 901.2, 88.0),
    ('2024-01-07 08:15:00', 1001.7, '2024-01-07 09:30:00', 1051.4, 82.0),
    ('2024-01-08 08:15:00', 1151.9, '2024-01-08 09:30:00', 1201.6, 75.0),
    ('2024-01-09 08:15:00', 1302.1, '2024-01-09 09:30:00', 1351.8, 87.0),
    ('2024-01-10 08:15:00', 1452.3, '2024-01-10 09:30:00', 1502.0, 78.0),
    ('2024-01-11 08:15:00', 1602.5, '2024-01-11 09:30:00', 1652.2, 92.0),
    ('2024-01-12 08:15:00', 1752.7, '2024-01-12 09:30:00', 1802.4, 81.0),
    ('2024-01-13 08:15:00', 1902.9, '2024-01-13 09:30:00', 1952.6, 96.0),
    ('2024-01-14 08:15:00', 2053.1, '2024-01-14 09:30:00', 2102.8, 84.0),
    ('2024-01-15 08:15:00', 2203.3, '2024-01-15 09:30:00', 2253.0, 75.0),
    ('2024-01-16 08:15:00', 2353.5, '2024-01-16 09:30:00', 2403.2, 88.0),
    ('2024-01-17 08:15:00', 2503.7, '2024-01-17 09:30:00', 2553.4, 82.0),
    ('2024-01-18 08:15:00', 2653.9, '2024-01-18 09:30:00', 2703.6, 90.0),
    ('2024-01-19 08:15:00', 2804.1, '2024-01-19 09:30:00', 2853.8, 75.0),
    ('2024-01-20 08:15:00', 2954.3, '2024-01-20 09:30:00', 3004.0, 91.0),
    ('2024-01-21 08:15:00', 3104.5, '2024-01-21 09:30:00', 3154.2, 86.0),
    ('2024-01-22 08:15:00', 3254.7, '2024-01-22 09:30:00', 3304.4, 75.0),
    ('2024-01-23 08:15:00', 3404.9, '2024-01-23 09:30:00', 3454.6, 89.0),
    ('2024-01-24 08:15:00', 3555.1, '2024-01-24 09:30:00', 3604.8, 80.0),
    ('2024-01-25 08:15:00', 3705.3, '2024-01-25 09:30:00', 3755.0, 93.0),
    ('2024-01-26 08:15:00', 3855.5, '2024-01-26 09:30:00', 3905.2, 85.0),
    ('2024-01-27 08:15:00', 4005.7, '2024-01-27 09:30:00', 4055.4, 75.0),
    ('2024-01-28 08:15:00', 4155.9, '2024-01-28 09:30:00', 4205.6, 94.0),
    ('2024-01-29 08:15:00', 4306.1, '2024-01-29 09:30:00', 4355.8, 79.0),
    ('2024-01-30 08:15:00', 4456.3, '2024-01-30 09:30:00', 4506.0, 97.0),
    ('2024-01-31 08:15:00', 4606.5, '2024-01-31 09:30:00', 4656.2, 75.0),
    ('2024-02-01 08:15:00', 4756.7, '2024-02-01 09:30:00', 4806.4, 100.0),
    ('2024-02-02 08:15:00', 4906.9, '2024-02-02 09:30:00', 4956.6, 75.0),
    ('2024-02-03 08:15:00', 5057.1, '2024-02-03 09:30:00', 5106.8, 98.0),
    ('2024-02-04 08:15:00', 5207.3, '2024-02-04 09:30:00', 5257.0, 75.0),
    ('2024-02-05 08:15:00', 5357.5, '2024-02-05 09:30:00', 5407.2, 99.0),
    ('2024-02-06 08:15:00', 5507.7, '2024-02-06 09:30:00', 5557.4, 75.0),
    ('2024-02-07 08:15:00', 5657.9, '2024-02-07 09:30:00', 5707.6, 97.0),
    ('2024-02-08 08:15:00', 5808.1, '2024-02-08 09:30:00', 5857.8, 75.0),
    ('2024-02-09 08:15:00', 5958.3, '2024-02-09 09:30:00', 6008.0, 96.0),
    ('2024-02-10 08:15:00', 6108.5, '2024-02-10 09:30:00', 6158.2, 75.0),
    ('2024-02-11 08:15:00', 6258.7, '2024-02-11 09:30:00', 6308.4, 95.0),
    ('2024-02-12 08:15:00', 6408.9, '2024-02-12 09:30:00', 6458.6, 75.0),
    ('2024-02-13 08:15:00', 6559.1, '2024-02-13 09:30:00', 6608.8, 94.0),
    ('2024-02-14 08:15:00', 6709.3, '2024-02-14 09:30:00', 6759.0, 75.0),
    ('2024-02-15 08:15:00', 6859.5, '2024-02-15 09:30:00', 6909.2, 93.0),
    ('2024-02-16 08:15:00', 7009.7, '2024-02-16 09:30:00', 7059.4, 75.0),
    ('2024-02-17 08:15:00', 7159.9, '2024-02-17 09:30:00', 7209.6, 92.0),
    ('2024-02-18 08:15:00', 7310.1, '2024-02-18 09:30:00', 7360.8, 75.0),
    ('2024-02-19 08:15:00', 7460.3, '2024-02-19 09:30:00', 7510.0, 91.0),
    ('2024-02-20 08:15:00', 7610.5, '2024-02-20 09:30:00', 7660.2, 75.0),
    ('2024-02-21 08:15:00', 7760.7, '2024-02-21 09:30:00', 7810.4, 90.0),
    ('2024-02-22 08:15:00', 7910.9, '2024-02-22 09:30:00', 7960.6, 75.0),
    ('2024-02-23 08:15:00', 8061.1, '2024-02-23 09:30:00', 8110.8, 89.0),
    ('2024-02-24 08:15:00', 8211.3, '2024-02-24 09:30:00', 8261.0, 75.0),
    ('2024-02-25 08:15:00', 8361.5, '2024-02-25 09:30:00', 8411.2, 88.0),
    ('2024-02-26 08:15:00', 8511.7, '2024-02-26 09:30:00', 8561.4, 75.0),
    ('2024-02-27 08:15:00', 8661.9, '2024-02-27 09:30:00', 8711.6, 87.0),
    ('2024-02-28 08:15:00', 8812.1, '2024-02-28 09:30:00', 8861.8, 75.0),
    ('2024-02-29 08:15:00', 8962.3, '2024-02-29 09:30:00', 9012.0, 86.0),
    ('2024-03-01 08:15:00', 9112.5, '2024-03-01 09:30:00', 9162.2, 75.0),
    ('2024-03-02 08:15:00', 9262.7, '2024-03-02 09:30:00', 9312.4, 85.0),
    ('2024-03-03 08:15:00', 9412.9, '2024-03-03 09:30:00', 9462.6, 75.0),
    ('2024-03-04 08:15:00', 9563.1, '2024-03-04 09:30:00', 9612.8, 84.0),
    ('2024-03-05 08:15:00', 9713.3, '2024-03-05 09:30:00', 9763.0, 75.0),
    ('2024-03-06 08:15:00', 9863.5, '2024-03-06 09:30:00', 9913.2, 83.0),
    ('2024-03-07 08:15:00', 10013.7, '2024-03-07 09:30:00', 10063.4, 75.0),
    ('2024-03-08 08:15:00', 10163.9, '2024-03-08 09:30:00', 10213.6, 82.0),
    ('2024-03-09 08:15:00', 10314.1, '2024-03-09 09:30:00', 10363.8, 75.0),
    ('2024-03-10 08:15:00', 10464.3, '2024-03-10 09:30:00', 10514.0, 81.0),
    ('2024-03-11 08:15:00', 10614.5, '2024-03-11 09:30:00', 10664.2, 75.0),
    ('2024-03-12 08:15:00', 10764.7, '2024-03-12 09:30:00', 10814.4, 80.0),
    ('2024-03-13 08:15:00', 10914.9, '2024-03-13 09:30:00', 10964.6, 75.0),
    ('2024-03-14 08:15:00', 11065.1, '2024-03-14 09:30:00', 11114.8, 79.0),
    ('2024-03-15 08:15:00', 11215.3, '2024-03-15 09:30:00', 11265.0, 75.0);
''',
      '''
INSERT INTO servico (tipo, data, km, descricao, valor) VALUES
    ('Troca de Óleo', '2024-01-03', 2100.5, 'Revisão completa do veículo', 150.0),
    ('Revisão', '2024-01-05', 350.5, 'Troca de óleo e filtro', 80.0),
    ('Troca de Pneus', '2024-01-06', 2550.1, 'Troca de todos os pneus', 300.0),
    ('Lavagem/Limpeza', '2024-01-09', 2900.5, 'Lavagem completa', 50.0),
    ('Revisão', '2024-01-10', 600.0, 'Revisão completa do veículo', 150.0),
    ('Troca de Pneus', '2024-01-10', 800.5, 'Troca de todos os pneus', 300.0),
    ('Revisão', '2024-01-12', 3300.1, 'Reparo no sistema de direção', 120.0),
    ('Troca de Óleo', '2024-01-15', 350.5, 'Troca de óleo e filtro', 80.0),
    ('Troca de Pneus', '2024-01-15', 800.5, 'Troca de todos os pneus', 300.0),
    ('Revisão', '2024-01-18', 4100.5, 'Revisão completa do veículo', 150.0),
    ('Troca de Pneus', '2024-01-20', 4550.1, 'Troca de todos os pneus', 300.0),
    ('Lavagem/Limpeza', '2024-01-20', 1100.5, 'Lavagem completa', 50.0),
    ('Revisão', '2024-01-21', 4550.1, 'Troca de todos os pneus', 300.0),
    ('Revisão', '2024-01-24', 1400.0, 'Reparo no sistema de freios', 120.0),
    ('Lavagem/Limpeza', '2024-01-24', 5000.0, 'Lavagem completa', 50.0),
    ('Troca de Óleo', '2024-01-27', 5400.5, 'Reparo no sistema de transmissão', 120.0),
    ('Revisão', '2024-01-30', 1700.5, 'Troca de óleo e filtro', 80.0),
    ('Revisão', '2024-02-05', 2100.5, 'Revisão completa do veículo', 150.0),
    ('Troca de Pneus', '2024-02-10', 2550.1, 'Troca de todos os pneus', 300.0),
    ('Lavagem/Limpeza', '2024-02-15', 2900.5, 'Lavagem completa', 50.0),
    ('Revisão', '2024-02-18', 8000.5, 'Revisão completa do veículo', 150.0),
    ('Troca de Pneus', '2024-02-19', 8450.1, 'Troca de todos os pneus', 300.0),
    ('Lavagem/Limpeza', '2024-02-20', 8800.5, 'Lavagem completa', 50.0),
    ('Revisão', '2024-02-20', 3300.1, 'Reparo no sistema de direção', 120.0),
    ('Revisão', '2024-02-21', 9200.1, 'Reparo no sistema de direção', 120.0),
    ('Troca de Óleo', '2024-02-22', 9500.2, 'Troca de óleo e filtro', 80.0),
    ('Revisão', '2024-02-22', 9800.5, 'Revisão completa do veículo', 150.0),
    ('Troca de Pneus', '2024-02-23', 10250.1, 'Troca de todos os pneus', 300.0),
    ('Lavagem/Limpeza', '2024-02-23', 10600.0, 'Lavagem completa', 50.0),
    ('Revisão', '2024-02-20', 3300.1, 'Reparo no sistema de direção', 120.0),
    ('Troca de Óleo', '2024-02-24', 3700.2, 'Troca de óleo e filtro', 80.0),
    ('Revisão', '2024-02-24', 4100.5, 'Revisão completa do veículo', 150.0),
    ('Troca de Pneus', '2024-02-24', 4550.1, 'Troca de todos os pneus', 300.0),
    ('Lavagem/Limpeza', '2024-02-24', 5000.0, 'Lavagem completa', 50.0),
    ('Revisão', '2024-02-24', 5400.5, 'Reparo no sistema de transmissão', 120.0),
    ('Troca de Óleo', '2024-02-24', 5800.2, 'Troca de óleo e filtro', 80.0),
    ('Revisão', '2024-02-24', 6200.5, 'Revisão completa do veículo', 150.0),
    ('Troca de Pneus', '2024-02-24', 6650.1, 'Troca de todos os pneus', 300.0),
    ('Lavagem/Limpeza', '2024-02-24', 7000.0, 'Lavagem completa', 50.0),
    ('Troca de Óleo', '2024-02-26', 3700.2, 'Troca de óleo e filtro', 80.0),
    ('Lavagem/Limpeza', '2024-02-26', 5000.0, 'Lavagem completa', 50.0),
    ('Revisão', '2024-02-27', 5400.5, 'Reparo no sistema de transmissão', 120.0),
    ('Lavagem/Limpeza', '2024-02-28', 7000.0, 'Lavagem completa', 50.0),
    ('Revisão', '2024-02-29', 7400.5, 'Reparo no sistema de suspensão', 120.0),
    ('Revisão', '2024-02-29', 7800.0, 'Revisão completa do veículo', 150.0),
    ('Abastecimento', '2024-03-01', 5000.0, 'Abastecimento 1', 50.0),
    ('Abastecimento', '2024-03-02', 5000.0, 'Abastecimento 2', 50.0),
    ('Abastecimento', '2024-03-03', 5000.0, 'Abastecimento 3', 50.0),
    ('Revisão', '2024-02-24', 7400.5, 'Reparo no sistema de suspensão', 120.0),
    ('Revisão', '2024-02-24', 7800.0, 'Revisão completa do veículo', 150.0),
    ('Revisão', '2024-02-18', 8000.5, 'Revisão completa do veículo', 150.0),
    ('Troca de Pneus', '2024-02-19', 8450.1, 'Troca de todos os pneus', 300.0),
    ('Lavagem/Limpeza', '2024-02-20', 8800.5, 'Lavagem completa', 50.0),
    ('Revisão', '2024-02-21', 9200.1, 'Reparo no sistema de direção', 120.0),
    ('Troca de Óleo', '2024-02-22', 9500.2, 'Troca de óleo e filtro', 80.0),
    ('Revisão', '2024-02-22', 9800.5, 'Revisão completa do veículo', 150.0),
    ('Troca de Pneus', '2024-02-23', 10250.1, 'Troca de todos os pneus', 300.0),
    ('Lavagem/Limpeza', '2024-02-23', 10600.0, 'Lavagem completa', 50.0),
    ('Revisão', '2024-02-25', 11000.5, 'Reparo no sistema de transmissão', 120.0),
    ('Troca de Óleo', '2024-02-26', 11400.2, 'Troca de óleo e filtro', 80.0);
''',
    ],
  };

  static Future<Database> initDatabase(String fname) async {
    return await openDatabase(join(await getDatabasesPath(), fname),
        version: _migrationScripts.length, onCreate: (db, version) async {
      for (final script in _migrationScripts.values) {
        for (String sql in script) {
          await db.execute(sql);
        }
      }
    }, onUpgrade: (db, oldVersion, newVersion) async {
      for (int i = oldVersion + 1; i <= newVersion; i++) {
        for (String sql in (_migrationScripts[i] as List<String>)) {
          await db.execute(sql);
        }
      }
    });
  }
}
